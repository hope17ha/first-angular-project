<!-- homepage -->
<div class="container">
    <form class="register" form #registerForm="ngForm" (ngSubmit)="register()">
      <fieldset>
        <h2>Registration Form</h2>
  
        <!-- username -->
        <p class="field field-icon">
          <label for="username">Username</label>
          <input [class]="(
            (inputUsername?.touched && inputUsername?.errors?.['required']) || 
             (inputUsername?.touched && inputUsername?.errors?.['minlength']))
             ? 'input-error': ''"
            type="text"
            id="username"
            name="username"
            #inputUsername="ngModel"
            ngModel
            required
            minlength="5"
          />
        
    
        @if(inputUsername?.touched) {
    
          @if(inputUsername?.errors?.['required']){
            
            <div class="error">
              <p>Name is required.</p>
            </div>
            }
            @if (inputUsername?.errors?.['minlength']){
              <div class="error">
                <p>Name must be at least 5 characters.</p>
              </div>
            }
          }
  
        <!-- email -->
        <p class="field field-icon">
          <label for="email">Email</label>
      <input [class]="(
        (inputEmail?.touched && inputEmail?.errors?.['required']) || 
         (inputEmail?.touched && inputEmail?.errors?.['emailValidator']))
         ? 'input-error': ''"
        type="text"
        id="email"
        name="email"
        email
        #inputEmail="ngModel"
        ngModel
        required
        [appEmail]="domains"
      />
    

    @if(inputEmail?.touched) {

      @if(inputEmail?.errors?.['required']){
        
        <div class="error">
          <p>Email is required.</p>
        </div>
        }
   
      @if(inputEmail?.errors?.['emailValidator']){
        
        <div class="error">
          <p>Email is invalid!</p>
        </div>
        }
    }
          <!-- phone -->
    <p class="field field-icon">
      <label for="tel">Phone</label>
      <input [class]="(
        (inputTel?.touched && inputTel?.errors?.['required']))
         ? 'input-error': ''"
        type="text"
        id="tel"
        name="tel"
        #inputTel="ngModel"
        ngModel
        required

      />
    

    @if(inputTel?.touched) {

      @if(inputTel?.errors?.['required']){
        
        <div class="error">
          <p>Phone is required.</p>
        </div>
        }
      }
        
            <!--passwords--> 
        <div formGroupName="passGroup">
          <!-- password -->
          <p class="field field-icon">
            <label for="password">Password</label>
            <input      [class]="(
              (passwordInput?.touched && passwordInput?.errors?.['required']) || 
               (passwordInput?.touched && passwordInput?.errors?.['minlength']))
               ? 'input-error': ''"
              type="password"
              id="password"
              name="password"
              #passwordInput="ngModel"
              ngModel
              required
              minlength="5"
            />
          </div>
      
          @if(passwordInput?.touched) {
      
            @if(passwordInput?.errors?.['required']){
              
              <div class="error">
                <p>Password is required.</p>
              </div>
              }
            @if(passwordInput?.errors?.['minlength']){
              
              <div class="error">
                <p>Password must be at least 5 characters.</p>
              </div>
              }
            }
  
          <!-- rePassword -->
          <p class="field field-icon">
            <label for="rePassword">Confirm Password</label>
            <input [class]="(
              (rePasswordInput?.touched && rePasswordInput?.errors?.['required']) || 
               (rePasswordInput?.touched && rePasswordInput?.errors?.['minlength']) ||
               rePasswordInput?.touched && rePasswordInput?.errors?.['passwordsDontMatch'])
               ? 'input-error': ''"
              type="password"
              id="rePassword"
              name="rePassword"
              #rePasswordInput="ngModel"
              ngModel
              required
              minlength="5"
            />
          
      
          @if(rePasswordInput?.touched) {
      
            @if(rePasswordInput?.errors?.['required']){
              
              <div class="error">
                <p>Confirm Password is required.</p>
              </div>
              }
            }
      
             @if (passwordInput.touched && rePasswordInput.touched) {
      
               @if (passwordsDontMatch) {
                 <div class="error">
                   <p>Passwords don't match!</p>
                  </div>
                }
              }
          

  
   
      </fieldset>
           <button
          [disabled]="registerForm.invalid"
          [style]="{ backgroundColor: registerForm.invalid ? 'grey' : '#234465' }"
        >
          Create Account
        </button>
  
        <p class="text-center">
          Have an account?
          <a routerLink="/login">Log In</a>
        </p>
    </form>
    
  </div>
  